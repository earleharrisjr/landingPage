if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("PolarisStoryCreationFileForm",["PolarisImageFileForm","PolarisMediaHelpers","PolarisStoryCreationActions","nullthrows","react","react-redux-wwwig"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=d=a.call.apply(a,[this].concat(f))||this,d.handleStoryCreationClick=function(){if(d.$2===!0)return;d.$2=!0;d.props.onStartStoryCreation(d.props.entryPoint).then(function(){c("nullthrows")(d.$1).selectFile(),d.$2=!1})["catch"](function(){d.$2=!1})},b)||babelHelpers.assertThisInitialized(d)}var e=b.prototype;e.render=function(){var a=this;return h.jsx(d("PolarisImageFileForm").ImageFileForm,{acceptMimeTypes:Object.keys(d("PolarisMediaHelpers").IMAGE_MIME_TYPES),onFileChange:this.props.onMediaSelect,ref:function(b){return a.$1=b}})};return b}(h.Component);function a(a){return{onMediaSelect:function(b){b.length&&a(d("PolarisStoryCreationActions").storyCreationSelectMedia(b[0]))},onStartStoryCreation:function(b){return a(d("PolarisStoryCreationActions").startStoryCreationSession(b))}}}e=d("react-redux-wwwig").connect(null,a,null,{forwardRef:!0})(b);g["default"]=e}),98);
__d("useMatchMedia",["ExecutionEnvironment","FBLogger","gkx","react","useLayoutEffect_SAFE_FOR_SSR"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useState;function a(a){if(c("gkx")("751")&&!d("ExecutionEnvironment").canUseDOM)throw c("FBLogger")("useMatchMedia").mustfixThrow("useMatchMedia is not safe to use in server-side rendering. It always returns false on the server but sometimes returns true on the client. If you want to measure the viewport, please see useMatchViewport, which is safe to use in SSR.");var b=h(function(){return!!window.matchMedia&&window.matchMedia(a).matches}),e=b[0],f=b[1];c("useLayoutEffect_SAFE_FOR_SSR")(function(){if(!window.matchMedia)return;var b=window.matchMedia(a),c=function(a){return f(a.matches)};b.addListener(c);return function(){return b.removeListener(c)}},[a]);return e}g["default"]=a}),98);
__d("PolarisNotificationsNavItem.react",["PolarisActivityStoryActionsV2","PolarisActivityStorySelectorsV2","PolarisIGCoreBadge","PolarisIGCoreHeartFilledIcon","PolarisIGCoreHeartPanoOutlineIcon","PolarisNavigationActionTypes","PolarisNavigationItem.react","PolarisNavigationStrings","PolarisRoutes","PolarisnavigationSelectors","Polarisods","PolarisuserSelectors","react","react-redux-wwwig","useMatchMedia"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useEffect;function a(a){var b=a.isCreationMenuOpen,e=a.modalOpen,f=a.onClick;a=a.size;var g=d("react-redux-wwwig").useSelector(d("PolarisnavigationSelectors").getIsDesktopNavMenuOpen),k=d("react-redux-wwwig").useSelector(d("PolarisnavigationSelectors").getIsDirectDropdownOpen),l=d("react-redux-wwwig").useSelector(d("PolarisnavigationSelectors").getIsFeedCreationOpen),m=d("react-redux-wwwig").useSelector(d("PolarisnavigationSelectors").getIsLiveCreationModalOpen),n=d("react-redux-wwwig").useDispatch(),o=d("react-redux-wwwig").useSelector(function(a){return d("PolarisActivityStorySelectorsV2").countsIsLoading(a)}),p=d("react-redux-wwwig").useSelector(function(a){return d("PolarisuserSelectors").getViewer(a)}),q=d("react-redux-wwwig").useSelector(function(a){return d("PolarisActivityStorySelectorsV2").unreadCounts(a)});j(function(){function a(a){n(d("PolarisActivityStoryActionsV2").loadActivityCounts(a))}var b=p==null?void 0:p.id;!o&&b!=null&&a(b)},[o,n,p]);q=q&&Object.keys(q).length>0?Number(Object.values(q).reduce(function(a,b){return Number(a)+Number(b)})):0;var r=q<100?String(q):"99+",s=d("react-redux-wwwig").useSelector(d("PolarisnavigationSelectors").getCurrentNavSelection)===d("PolarisNavigationActionTypes").NAVIGATION_SECTION_ACTIVITY;e=e&&!b&&!g&&!k&&!l&&!m||s;b=e?c("PolarisIGCoreHeartFilledIcon"):c("PolarisIGCoreHeartPanoOutlineIcon");g=h.jsx(b,{alt:d("PolarisNavigationStrings").NOTIFICATIONS_TEXT,size:a});k=i(function(a){c("Polarisods").incr("web.navigation.click.desktop.activity"),a.preventDefault(),f()},[f]);l=c("useMatchMedia")("(max-width: 578px)");return h.jsx(c("PolarisNavigationItem.react"),{badge:q>0?h.jsx(c("PolarisIGCoreBadge"),{children:r}):null,badgeTextLength:r.length,href:l?d("PolarisRoutes").ACTIVITY_FEED_PATH:void 0,icon:g,isActive:e,label:d("PolarisNavigationStrings").NOTIFICATIONS_TEXT,onClick:k,iconNeedsDefaultStylingWrapper:!0,section:d("PolarisNavigationActionTypes").NAVIGATION_SECTION_ACTIVITY})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);